<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="title" content="Happy Birthday Website 2.0 | Aoudumber Bade" />
  <meta name="github" content="https://github.com/Aoudumber-Bade" />
  <title>HBD 2.0 | Aoudumber Bade</title>
  <link rel="stylesheet" href="style.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous"
  />
  <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    crossorigin="anonymous"
  ></script>
</head>
<body>
  <!-- ğŸ Startup Gift -->
  <div id="startup">
    <img src="images/gift.png" alt="Tap to start" />
    <p>Tap the gift to open your surpriseâœ¨</p>
  </div>

  <!-- ğŸ”Š Background Music -->
  <audio id="bgmusic" loop>
    <source src="music/music.mp3" type="audio/mpeg" />
  </audio>

  <!-- ğŸ‰ Main Content -->
  <div id="wrapper" style="display: none;">
    <!-- your entire wrapper content (copy from original file) -->
    <!-- shortened here for brevity -->

    <!-- Example inside wrapper -->
    <div class="content">
      <!-- Left and Right sides same as your design -->
    </div>

    <div class="box__letter">
      <!-- letter popup design same as before -->
    </div>
  </div>

  <!-- ğŸ‘¤ Footer -->
  <div id="copy">
    <p class="text-center text-white text-sm">
      OG Creator: crzy_vivek
      <a
        href="https://www.instagram.com/crzy_vivek"
        target="_blank"
        >(click here for more)</a
      >
    </p>
  </div>

  <!-- âœ… Working Scripts -->
  <script>
    // ğŸ Gift click event
    const startup = document.getElementById("startup");
    const wrapper = document.getElementById("wrapper");
    const music = document.getElementById("bgmusic");

    startup.addEventListener("click", async function () {
      startup.style.display = "none";
      wrapper.style.display = "block";
      try {
        await music.play();
        console.log("ğŸµ Music started");
      } catch (err) {
        console.error("ğŸš« Music failed to play:", err);
      }
    });

    // ğŸ‰ Birthday Text Animation
    let datetxt = "17 April 2023";
    let datatxtletter =
      "My sweet little angel, you are so special to all of us. Every day with you is a gift, and I thank God for sending you to our lives. I wish you lots of love, hugs, laughter, and fun as you grow. May your days be full of smiles and joy. We will always be with you, celebrating each birthday with love. Happy 2nd birthday, my shining star! ğŸ’–ğŸ’•";
    let titleLetter = "To you";
    let charArrDate = datetxt.split("");
    let charArrDateLetter = datatxtletter.split("");
    let charArrTitle = titleLetter.split("");
    let currentIndex = 0;
    let currentIndexLetter = 0;
    let currentIndexTitle = 0;
    let date__of__birth = document.querySelector(".date__of__birth span");
    let text__letter = document.querySelector(".text__letter p");

    setTimeout(function () {
      timeDatetxt = setInterval(function () {
        if (currentIndex < charArrDate.length) {
          date__of__birth.textContent += charArrDate[currentIndex];
          currentIndex++;
        } else {
          let i = document.createElement("i");
          i.className = "fa-solid fa-star";
          document.querySelector(".date__of__birth").prepend(i);
          document.querySelector(".date__of__birth").appendChild(i.cloneNode(true));
          clearInterval(timeDatetxt);
        }
      }, 100);
    }, 12000);

    // ğŸ’Œ Letter popup
    var intervalContent;
    var intervalTitle;
    $("#btn__letter").on("click", function () {
      $(".box__letter").slideDown();
      setTimeout(function () {
        $(".letter__border").slideDown();
      }, 1000);
      setTimeout(function () {
        intervalTitle = setInterval(function () {
          if (currentIndexTitle < charArrTitle.length) {
            document.querySelector(".title__letter").textContent +=
              charArrTitle[currentIndexTitle];
            let i = document.createElement("i");
            i.className = "fa-solid fa-heart";
            document.querySelector(".title__letter").appendChild(i);
            currentIndexTitle++;
          } else {
            clearInterval(intervalTitle);
          }
        }, 100);
      }, 2000);
      setTimeout(function () {
        document.querySelector("#heart__letter").classList.add("animationOp");
        document.querySelector(".love__img").classList.add("animationOp");
        document.querySelector("#mewmew").classList.add("animationOp");
      }, 2800);
      setTimeout(function () {
        document.querySelectorAll(".heart").forEach((item) => {
          item.classList.add("animation");
        });
      }, 3500);
      setTimeout(function () {
        intervalContent = setInterval(function () {
          if (currentIndexLetter < charArrDateLetter.length) {
            text__letter.textContent += charArrDateLetter[currentIndexLetter];
            currentIndexLetter++;
          } else {
            clearInterval(intervalContent);
          }
        }, 50);
      }, 6000);
    });

    // âŒ Close Letter
    $(".close").on("click", function () {
      clearInterval(intervalContent);
      document.querySelector(".title__letter").textContent = "";
      text__letter.textContent = "";
      currentIndexLetter = 0;
      currentIndexTitle = 0;
      document.querySelector("#heart__letter").classList.remove("animationOp");
      document.querySelector(".love__img").classList.remove("animationOp");
      document.querySelector("#mewmew").classList.remove("animationOp");
      document.querySelectorAll(".heart").forEach((item) => {
        item.classList.remove("animation");
      });
      $(".box__letter").slideUp();
      $(".letter__border").slideUp();
    });
  </script>
</body>
</html>
